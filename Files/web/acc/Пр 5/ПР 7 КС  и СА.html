<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1251">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice 4.1.13  (Win32)">
	<META NAME="AUTHOR" CONTENT="Viny.63">
	<META NAME="CREATED" CONTENT="20200918;12080000">
	<META NAME="CHANGEDBY" CONTENT="Viny.63">
	<META NAME="CHANGED" CONTENT="20200927;5530000">
	<META NAME="AppVersion" CONTENT="16.0000">
	<META NAME="DocSecurity" CONTENT="0">
	<META NAME="HyperlinksChanged" CONTENT="false">
	<META NAME="LinksUpToDate" CONTENT="false">
	<META NAME="ScaleCrop" CONTENT="false">
	<META NAME="ShareDoc" CONTENT="false">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 21cm 29.7cm; margin-left: 3cm; margin-right: 1.5cm; margin-top: 2cm; margin-bottom: 2cm }
		P { margin-left: 0.07cm; text-indent: -0.02cm; margin-bottom: 0.21cm; direction: ltr; color: #000000; line-height: 103%; widows: 2; orphans: 2 }
		P.western { font-family: "Times New Roman", serif; font-size: 12pt }
		P.cjk { font-family: "Times New Roman"; font-size: 12pt; so-language: ru-RU }
		P.ctl { font-family: "Times New Roman" }
		H3 { margin-left: 0.07cm; text-indent: -0.02cm; margin-bottom: 0.17cm; direction: ltr; color: #000000; line-height: 103%; page-break-inside: avoid; widows: 2; orphans: 2; page-break-after: avoid }
		H3.western { font-family: "Cambria", sans-serif; font-size: 14pt; font-weight: bold }
		H3.cjk { font-family: "Cambria"; font-size: 14pt; so-language: ru-RU; font-weight: bold }
		H3.ctl { font-family: "Cambria"; font-size: 14pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="ru-RU" TEXT="#000000" LINK="#000080" VLINK="#800000" DIR="LTR">
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.53cm; text-indent: 0cm; margin-bottom: 0cm; line-height: 100%"><A NAME="_GoBack"></A>
                                                                     
   
</P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.53cm; text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Практическая 7</B></FONT></P>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; margin-bottom: 0cm; line-height: 100%">
<FONT FACE="Times New Roman, serif">Протокол ARP</FONT></H3>
<P CLASS="western" STYLE="margin-bottom: 0.2cm"><BR><BR>
</P>
<P CLASS="western" STYLE="margin-left: 0cm; text-indent: 0cm; margin-bottom: 0.28cm; line-height: 107%">
<FONT SIZE=4><B>Цель работы:</B></FONT><FONT SIZE=4> Изучение
назначения, особенностей, свойств протокола ARP, а также таблиц для
преобразования адресов</FONT></P>
<H3 CLASS="western" STYLE="margin-left: 0.04cm; text-indent: -0.04cm; margin-bottom: 0cm; line-height: 100%">
Задание:<SPAN STYLE="font-weight: normal"> </SPAN><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-weight: normal">изучить
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-weight: normal">порядок
преобразования адресов, запросы и ответы протокола ARP</SPAN></FONT></H3>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Отчет</B></FONT></P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Отчет должен содержать:</FONT></P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>1. наименование работы;</FONT></P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>2. цель работы;</FONT></P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>3. задание;</FONT></P>
<P CLASS="western" STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>4. последовательность выполнения работы;</FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>5. ответы на контрольные вопросы;</FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>6.</FONT><FONT SIZE=4><B> </B></FONT><FONT SIZE=4>вывод
о проделанной работе.</FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Контрольные вопросы</B></FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>1. Привести основные свойства протокола </FONT><FONT SIZE=4>ARP</FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>2.Назначение ARP -таблицы для преобразования адресов</FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>3. Представить алгоритм преобразования адреса</FONT></P>
<H3 CLASS="western" STYLE="margin-left: 0.04cm; text-indent: -0.04cm; margin-bottom: 0cm; line-height: 100%">
<FONT FACE="Times New Roman, serif"><SPAN STYLE="font-weight: normal">4.
 Представить в виде таблицы запросы и ответы протокола ARP</SPAN></FONT></H3>
<TABLE WIDTH=562 BORDER=1 BORDERCOLOR="#00000a" CELLPADDING=7 CELLSPACING=0>
	<COL WIDTH=180>
	<COL WIDTH=165>
	<COL WIDTH=172>
	<TR VALIGN=TOP>
		<TD WIDTH=180>
			<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0cm; text-indent: 0cm">
			<FONT SIZE=4>ARP-запрос</FONT></P>
		</TD>
		<TD WIDTH=165>
			<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0cm; text-indent: 0cm">
			<FONT SIZE=4>ARP-ответ</FONT></P>
		</TD>
		<TD WIDTH=172>
			<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0cm; text-indent: 0cm">
			<FONT SIZE=4>после обработки ответа</FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=180>
			<P CLASS="western" STYLE="margin-left: 0cm; text-indent: 0cm"><BR>
			</P>
		</TD>
		<TD WIDTH=165>
			<P CLASS="western" STYLE="margin-left: 0cm; text-indent: 0cm"><BR>
			</P>
		</TD>
		<TD WIDTH=172>
			<P CLASS="western" STYLE="margin-left: 0cm; text-indent: 0cm"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="margin-bottom: 0.2cm"><FONT SIZE=4>5. Чем
отличаются виды записей в таблице ARP</FONT></P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: -1cm; text-indent: 1cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Теоретический материал для выполнения работы</B></FONT></P>
<H3 CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT FACE="Times New Roman, serif"><SPAN STYLE="font-weight: normal">Для
отображения IP-адресов в Ethernet адреса используется протокол ARP
(Address Resolution Protocol - адресный протокол). Отображение
выполняется только для отправляемых IP-пакетов, так как только в
момент отправки создаются заголовки IP и Ethernet.</SPAN></FONT></H3>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>ARP (Address Resolution Protocol)</B></FONT><FONT SIZE=4>
&ndash; протокол определения адреса, предназначенный для получения</FONT><FONT COLOR="#ff0000"><FONT SIZE=4>
</FONT></FONT><FONT SIZE=4>&ldquo;локального адреса&rdquo; по
известному IP-адресу (RFC 826).  </FONT>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>В соответствии с принципами модели стека TCP/IP, при
передаче IP-пакетов меду узлами &ldquo;локальной сети&rdquo;
производится инкапсуляция пакетов в кадры технологии, на основе
которой построена &ldquo;локальная сеть&rdquo;.  </FONT>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Схема определения MAC-адресов в  Ethernet-сетях:</B></FONT><FONT SIZE=4>
</FONT>
</P>
<OL>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>При передаче IP-пакета на уровень сетевых интерфейсов 
	модуль межсетевого взаимодействия обращается к модулю ARP для
	определения Ethernet-адреса.  </FONT>
	</P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Модуль ARP  формирует запрос на определение  адреса и
	передает его драйверу Ethernet. </FONT>
	</P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Драйвер Ethernet посылает в сеть широковещательный
	кадр, содержащий запрос (все узлы сети получают этот кадр). </FONT>
	</P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Узел сети, имеющий указанный в запросе IP-адрес,
	посылает ARP&ndash;ответ, в котором указывает свой Ethernet-адрес.  </FONT>
	</P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Модуль ARP  источника запроса, получив ответ, передает
	полученный  Ethernet-адрес модулю межсетевого взаимодействия.  </FONT>
	</P>
</OL>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Информация о соответствии IP- адресов Ethernet-адресам
временно сохраняется </FONT>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>(кэшируется) модулем ARP в ARP таблице. ARP таблица
состоит из трех полей: &ldquo;IP-адрес&rdquo;, &ldquo;Ethernet адрес&rdquo;
и &ldquo;Тип записи&rdquo;. </FONT>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Виды записей в таблице ARP: </B></FONT>
</P>
<UL>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4><B>динамические </B></FONT><FONT SIZE=4>&ndash;
	заносятся в таблицу автоматически, имеют ограниченный срок жизни и 
	по истечении нескольких минут удаляются из таблицы; </FONT>
	</P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4><B>статические</B></FONT><FONT SIZE=4> &ndash;
	заносятся в таблицу администратором c помощью специальной утилиты
	операционной системы  (в большинстве ОС для этого используется 
	утилита  arp), время жизни таких записей не ограничено.  </FONT>
	</P>
</UL>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>С помощью статических записей можно повысить
безопасность сети и сократить число широковещательных рассылок.  </FONT>
</P>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%"><A NAME="1"></A>
</H3>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT FACE="Times New Roman, serif">ARP-таблица для преобразования
адресов</FONT></H3>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Преобразование адресов выполняется путем поиска в
таблице. Эта таблица, называемая ARP-таблицей, хранится в памяти и
содержит строки для каждого узла сети. В двух столбцах содержатся IP-
и Ethernet-адреса. Если требуется преобразовать IP-адрес в
Ethernet-адрес, то ищется запись с соответствующим IP-адресом. Ниже
приведен пример упрощенной ARP-таблицы.</FONT></P>
<CENTER>
	<TABLE WIDTH=281 BORDER=1 BORDERCOLOR="#00000a" CELLPADDING=1 CELLSPACING=0>
		<COL WIDTH=112>
		<COL WIDTH=164>
		<TR>
			<TD WIDTH=112>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm"><A NAME="tab1"></A>
				<FONT SIZE=4><B>IP-адрес</B></FONT></P>
			</TD>
			<TD WIDTH=164>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm">
				<FONT SIZE=4><B>Ethernet-адрес</B></FONT></P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=112>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0cm">
				<FONT SIZE=4>223.1.2.1<BR>223.1.2.3<BR>223.1.2.4</FONT></P>
			</TD>
			<TD WIDTH=164>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0cm">
				<FONT SIZE=4>08:00:39:00:2F:C3<BR>08:00:5A:21:A7:22<BR>08:00:10:99:AC:54</FONT></P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Табл.1. Пример ARP-таблицы</B></FONT></P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Принято все байты 4-байтного IP-адреса записывать
десятичными числами, разделенными точками. При записи 6-байтного
Ethernet-адреса каждый байт указывается в 16-ричной системе и
отделяется двоеточием.</FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>ARP-таблица
необходима потому, что IP-адреса и Ethernet-адреса выбираются
независимо, и нет какого-либо алгоритма для преобразования одного в
другой. IP-адрес выбирает менеджер сети с учетом положения машины в
сети internet. Если машину перемещают в другую часть сети internet,
то ее IP-адрес должен быть изменен. Ethernet-адрес выбирает
производитель сетевого интерфейсного оборудования из выделенного для
него по лицензии адресного пространства. Когда у машины заменяется
плата сетевого адаптера, то меняется и ее Ethernet-адрес.</FONT></FONT></FONT></P>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%"><A NAME="2"></A>
<FONT FACE="Times New Roman, serif">Порядок преобразования адресов</FONT></H3>
<P ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>В ходе
обычной работы сетевая программа, такая как TELNET, отправляет
прикладное сообщение, пользуясь транспортными услугами TCP. Модуль
TCP посылает соответствующее транспортное сообщение через модуль IP.
В результате составляется IP-пакет, который должен быть передан
драйверу Ethernet. IP-адрес места назначения известен прикладной
программе, модулю TCP и модулю IP. Необходимо на его основе найти
Ethernet-адрес места назначения. Для определения искомого
Ethernet-адреса используется ARP-таблица.</FONT></FONT></FONT></P>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%"><A NAME="3"></A>
<FONT FACE="Times New Roman, serif">Запросы и ответы протокола ARP</FONT></H3>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Как же заполняется ARP-таблица? Она заполняется
автоматически модулем ARP, по мере необходимости. Когда с помощью
существующей ARP-таблицы не удается преобразовать IP-адрес, то
происходит следующее:</FONT></P>
<OL>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>По сети передается широковещательный ARP-запрос.</FONT></P>
	<LI><P CLASS="western" ALIGN=JUSTIFY STYLE="text-indent: 0cm; margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Исходящий IP-пакет ставится в очередь.</FONT></P>
</OL>
<P ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>Каждый
сетевой адаптер принимает широковещательные передачи. Все драйверы
Ethernet проверяют поле типа в принятом Ethernet-кадре и передают
ARP-пакеты модулю ARP. ARP-запрос можно интерпретировать так: &quot;Если
ваш IP-адрес совпадает с указанным, то сообщите мне ваш
Ethernet-адрес&quot;. Пакет ARP-запроса выглядит примерно так:</FONT></FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=374 BORDER=1 BORDERCOLOR="#00000a" CELLPADDING=1 CELLSPACING=0>
		<COL WIDTH=221>
		<COL WIDTH=147>
		<TR>
			<TD WIDTH=221>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm">
				<FONT SIZE=4>IP-адрес отправителя<BR>Ethernet-адрес отправителя</FONT></P>
			</TD>
			<TD WIDTH=147>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm">
				<FONT SIZE=4>223.1.2.1<BR>08:00:39:00:2F:C3</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=221>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm">
				<FONT SIZE=4>Искомый IP-адрес<BR>Искомый Ethernet-адрес</FONT></P>
			</TD>
			<TD WIDTH=147>
				<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm">
				<FONT SIZE=4>223.1.2.2<BR>&lt;пусто&gt;</FONT></P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%"><A NAME="tab2"></A>
<FONT SIZE=4><B>Табл.2. Пример ARP-запроса</B></FONT></P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" ALIGN=JUSTIFY STYLE="margin-left: 0.04cm; text-indent: 0.96cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Каждый модуль ARP проверяет поле искомого IP-адреса в
полученном ARP-пакете и, если адрес совпадает с его собственным
IP-адресом, то посылает ответ прямо по Ethernet-адресу отправителя
запроса. ARP-ответ можно интерпретировать так: &quot;Да, это мой
IP-адрес, ему соответствует такой-то Ethernet-адрес&quot;. Пакет с
ARP-ответом выглядит примерно так:</FONT></P>
<CENTER>
	<TABLE WIDTH=376 BORDER=1 BORDERCOLOR="#00000a" CELLPADDING=1 CELLSPACING=0>
		<COL WIDTH=222>
		<COL WIDTH=148>
		<TR>
			<TD WIDTH=222>
				<P CLASS="western"><FONT SIZE=4>IP-адрес
				отправителя<BR>Ethernet-адрес отправителя</FONT></P>
			</TD>
			<TD WIDTH=148>
				<P CLASS="western"><FONT SIZE=4>223.1.2.2<BR>08:00:28:00:38:A9</FONT></P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=222>
				<P CLASS="western"><FONT SIZE=4>Искомый IP-адрес<BR>Искомый
				Ethernet-адрес</FONT></P>
			</TD>
			<TD WIDTH=148>
				<P CLASS="western"><FONT SIZE=4>223.1.2.1<BR>08:00:39:00:2F:C3</FONT></P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Табл.3. Пример ARP-ответа</B></FONT></P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0cm; line-height: 100%">
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%"><FONT SIZE=4>Этот
ответ получает машина, сделавшая ARP-запрос. Драйвер этой машины
проверяет поле типа в Ethernet-кадре и передает ARP-пакет модулю ARP.
Модуль ARP анализирует ARP-пакет и добавляет запись в свою
ARP-таблицу.</FONT></P>
<P STYLE="margin-left: 0cm; text-indent: 0cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>Обновленная
таблица выглядит следующим образом:</FONT></FONT></FONT></P>
<P STYLE="margin-left: 0cm; text-indent: 0cm; margin-bottom: 0.05cm; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0cm; text-indent: 0cm; margin-bottom: 0.05cm; line-height: 100%">
<BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=240 BORDER=1 BORDERCOLOR="#00000a" CELLPADDING=1 CELLSPACING=0>
		<COL WIDTH=76>
		<COL WIDTH=152>
		<COL WIDTH=4>
		<TR>
			<TD WIDTH=76>
				<P CLASS="western" ALIGN=CENTER><A NAME="tab3"></A><FONT SIZE=4><B>IP-адрес</B></FONT></P>
			</TD>
			<TD WIDTH=152>
				<P CLASS="western" ALIGN=CENTER><FONT SIZE=4><B>Ethernet-адрес</B></FONT></P>
			</TD>
			<TD WIDTH=4 VALIGN=TOP>
				<P CLASS="western" ALIGN=CENTER><BR>
				</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=76>
				<P CLASS="western"><FONT SIZE=4>223.1.2.1<BR>223.1.2.2<BR>223.1.2.3<BR>223.1.2.3</FONT></P>
			</TD>
			<TD WIDTH=152>
				<P CLASS="western"><FONT SIZE=4>08:00:39:00:2F:C3<BR>08:00:28:00:38:A9<BR>08:00:5A:21:A7:22<BR>08:00:10:99:AC:54</FONT></P>
			</TD>
			<TD WIDTH=4 VALIGN=TOP>
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4><B>Табл.4. ARP-таблица после обработки ответа</B></FONT></P>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0cm; line-height: 100%"><A NAME="4"></A>
</H3>
<H3 CLASS="western" ALIGN=CENTER STYLE="margin-bottom: 0cm; line-height: 100%">
<FONT FACE="Times New Roman, serif">Продолжение преобразования
адресов</FONT></H3>
<P CLASS="western" STYLE="text-indent: 0.93cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Новая запись в ARP-таблице появляется автоматически,
спустя несколько миллисекунд после того, как она потребовалась. Как
вы помните, ранее на шаге 2 исходящий IP-пакет был поставлен в
очередь. Теперь с использованием обновленной ARP-таблицы выполняется
преобразование IPадреса в Ethernet-адрес, после чего Ethernet-кадр
передается по сети. Полностью порядок преобразования адресов выглядит
так:</FONT></P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>По сети передается широковещательный ARP-запрос.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Исходящий IP-пакет ставится в очередь.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Возвращается ARP-ответ, содержащий информацию о
	соответствии IP- и Ethernet-адресов. Эта информация заносится в
	ARP-таблицу.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Для преобразования IP-адреса в Ethernet-адрес у
	IP-пакета, постав ленного в очередь, используется ARP-таблица.</FONT></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm; line-height: 100%">
	<FONT SIZE=4>Ethernet-кадр передается по сети Ethernet.</FONT></P>
</OL>
<P CLASS="western" STYLE="margin-left: 0cm; text-indent: 1cm; margin-bottom: 0cm; line-height: 100%">
<FONT SIZE=4>Если  с помощью ARP-таблицы не удается сразу осуществить
преобразование адресов, то IP-пакет ставится в очередь, а необходимая
для преобразования информация получается с помощью запросов и ответов
протокола ARP, после чего IP-пакет передается по назначению.</FONT></P>
<P STYLE="margin-left: 0cm; text-indent: 1cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>Если в сети
нет машины с искомым IP-адресом, то ARP-ответа не будет и не будет
записи в ARP-таблице. Протокол IP будет уничтожать IP-пакеты,
направляемые по этому адресу. Протоколы верхнего уровня не могут
отличить случай повреждения сети Ethernet от случая отсутствия машины
с искомым IP-адресом.</FONT></FONT></FONT></P>
<P STYLE="margin-left: 0cm; text-indent: 1cm; margin-bottom: 0.05cm; line-height: 100%">
<FONT COLOR="#00000a"><FONT COLOR="#000000"><FONT SIZE=4>Некоторые
реализации IP и ARP не ставят в очередь IP-пакеты на то время, пока
они ждут ARP-ответов. Вместо этого IP-пакет просто уничтожается, а
его восстановление возлагается на модуль TCP или прикладной процесс,
работающий через UDP. Такое восстановление выполняется с помощью
таймаутов и повторных передач. Повторная передача сообщения проходит
успешно, так как первая попытка уже вызвала заполнение ARP-таблицы.</FONT></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0.2cm"><BR><BR>
</P>
</BODY>
</HTML>